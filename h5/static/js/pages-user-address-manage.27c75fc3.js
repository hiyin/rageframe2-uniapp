(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-address-manage"],{"0327":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memberLevelIndex=t.productVirtualVerificationVerify=t.orderProductVirtualView=t.orderProductVirtualIndex=t.notifySubscriptionConfigIndex=t.notifySubscriptionConfigUpConfig=t.notifyUnRreadCount=t.notifyClearAll=t.notifyClear=t.notifyReadAll=t.notifyRead=t.notifyView=t.notifyIndex=t.orderProductIndex=t.orderCustomerRefundClose=t.orderCustomerRefundApply=t.orderCustomerSalesReturn=t.rechargeConfigIndex=t.thirdPartyAuthDelete=t.thirdPartyAuthList=t.opinionDetail=t.opinionCreate=t.opinionList=t.uploadImage=t.orderInvoiceList=t.orderInvoiceCreate=t.invoiceDel=t.invoiceDefault=t.invoiceDetail=t.invoiceUpdate=t.invoiceCreate=t.invoiceList=t.evaluateAgain=t.evaluateCreate=t.creditsLogList=t.collectList=t.footPrintDel=t.footPrintList=t.couponReceive=t.orderTakeDelivery=t.orderDelete=t.orderDetail=t.orderProductSalesReturn=t.closeOrderRefundApply=t.orderRefundApply=t.orderList=t.couponDetail=t.couponClear=t.myCouponList=t.couponList=t.addressDelete=t.addressUpdate=t.addressDetail=t.addressDefault=t.addressCreate=t.addressList=t.memberUpdate=t.memberInfo=void 0;var a="/tiny-shop/v1/member/member/index";t.memberInfo=a;var i="/tiny-shop/v1/member/member/update";t.memberUpdate=i;var n="/tiny-shop/v1/member/address/index";t.addressList=n;var d="/tiny-shop/v1/member/address/default";t.addressDefault=d;var o="/tiny-shop/v1/member/address/view";t.addressDetail=o;var s="/tiny-shop/v1/member/address/create";t.addressCreate=s;var u="/tiny-shop/v1/member/address/update";t.addressUpdate=u;var l="/tiny-shop/v1/member/address/delete";t.addressDelete=l;var c="/tiny-shop/v1/marketing/coupon-type/index";t.couponList=c;var v="/tiny-shop/v1/member/coupon/index";t.myCouponList=v;var m="/tiny-shop/v1/marketing/coupon-type/view";t.couponDetail=m;var p="/tiny-shop/v1/marketing/coupon-type/create";t.couponReceive=p;var f="/tiny-shop/v1/member/coupon/clear";t.couponClear=f;var h="/tiny-shop/v1/member/order/index";t.orderList=h;var y="/tiny-shop/v1/member/order/take-delivery";t.orderTakeDelivery=y;var b="/tiny-shop/v1/member/order-product/refund-apply";t.orderRefundApply=b;var g="/tiny-shop/v1/member/order-product/refund-sales-return";t.orderProductSalesReturn=g;var x="/tiny-shop/v1/member/order-product/refund-close";t.closeOrderRefundApply=x;var D="/tiny-shop/v1/member/order/view";t.orderDetail=D;var _="/tiny-shop/v1/member/order/delete";t.orderDelete=_;var C="/tiny-shop/v1/member/footprint/index";t.footPrintList=C;var w="/tiny-shop/v1/member/footprint/delete";t.footPrintDel=w;var A="/tiny-shop/v1/member/collect/index";t.collectList=A;var I="/tiny-shop/v1/member/credits-log/index";t.creditsLogList=I;var R="/tiny-shop/v1/member/evaluate/create";t.evaluateCreate=R;var L="/tiny-shop/v1/member/evaluate/again";t.evaluateAgain=L;var k="/tiny-shop/v1/member/order-product/index";t.orderProductIndex=k;var $="/tiny-shop/v1/member/invoice/index";t.invoiceList=$;var P="/tiny-shop/v1/member/invoice/create";t.invoiceCreate=P;var S="/tiny-shop/v1/member/invoice/update";t.invoiceUpdate=S;var U="/tiny-shop/v1/member/invoice/view";t.invoiceDetail=U;var V="/tiny-shop/v1/member/invoice/default";t.invoiceDefault=V;var E="/tiny-shop/v1/member/invoice/delete";t.invoiceDel=E;var M="/tiny-shop/v1/member/order-invoice/index";t.orderInvoiceList=M;var O="/tiny-shop/v1/member/order-invoice/create";t.orderInvoiceCreate=O;var T="/tiny-shop/v1/member/opinion/index";t.opinionList=T;var j="/tiny-shop/v1/member/opinion/create";t.opinionCreate=j;var H="/tiny-shop/v1/member/opinion/view";t.opinionDetail=H;var N="/tiny-shop/v1/member/auth/index";t.thirdPartyAuthList=N;var G="/tiny-shop/v1/member/auth/delete";t.thirdPartyAuthDelete=G;var F="/tiny-shop/v1/member/recharge-config/index";t.rechargeConfigIndex=F;var J="/tiny-shop/v1/member/order-customer/apply";t.orderCustomerRefundApply=J;var B="/tiny-shop/v1/member/order-customer/sales-return";t.orderCustomerSalesReturn=B;var q="/tiny-shop/v1/member/order-customer/close";t.orderCustomerRefundClose=q;var z="/tiny-shop/v1/common/file/images";t.uploadImage=z;var K="/tiny-shop/v1/member/notify/index";t.notifyIndex=K;var Q="/tiny-shop/v1/member/notify/view";t.notifyView=Q;var W="/tiny-shop/v1/member/notify/read";t.notifyRead=W;var X="/tiny-shop/v1/member/notify/read-all";t.notifyReadAll=X;var Y="/tiny-shop/v1/member/notify/clear";t.notifyClear=Y;var Z="/tiny-shop/v1/member/notify/clear-all";t.notifyClearAll=Z;var ee="/tiny-shop/v1/member/notify/un-read-count";t.notifyUnRreadCount=ee;var te="/tiny-shop/v1/member/notify-subscription-config/index";t.notifySubscriptionConfigIndex=te;var re="/tiny-shop/v1/member/notify-subscription-config/up-config";t.notifySubscriptionConfigUpConfig=re;var ae="/tiny-shop/v1/member/order-product-virtual/index";t.orderProductVirtualIndex=ae;var ie="/tiny-shop/v1/member/order-product-virtual/view";t.orderProductVirtualView=ie;var ne="/tiny-shop/v1/order/product-virtual-verification/verify";t.productVirtualVerificationVerify=ne;var de="/tiny-shop/v1/member/member-level/index";t.memberLevelIndex=de},"0d18":function(e,t,r){"use strict";var a=r("ee27");r("99af"),r("4160"),r("a9e3"),r("e25e"),r("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var i=a(r("c964")),n=r("bc68"),d={props:{defaultLevel:{type:Number,default:3},addressData:{type:Object,default:function(){return{}}}},data:function(){return{multiArray:[],multiIndex:[0,0,0],multiStr:""}},mounted:function(){this.$mHelper.log(this.addressData),this.getProvinceList()},methods:{getProvinceList:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var r,a,d,o,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=0,a=0,d=0,o=null,s=null,u=null,t.next=8,e.$http.get("".concat(n.provinceList)).then(function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(l){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.multiArray[0]=l.data,e.addressData.province_id?l.data.forEach((function(t,a){parseInt(t.id,10)===parseInt(e.addressData.province_id,10)&&(r=a,e.addressData.province_id=t.id,o=t.title)})):(e.addressData.province_id=e.multiArray[0][0].id,o=e.multiArray[0][0].title),t.next=4,e.$http.get("".concat(n.provinceList),{pid:e.addressData.province_id}).then(function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.multiArray[1]=i.data,e.addressData.city_id?i.data.forEach((function(t,r){parseInt(t.id,10)==parseInt(e.addressData.city_id,10)&&(a=r,e.addressData.city_id=t.id,s=t.title)})):(e.addressData.city_id=e.multiArray[1][0].id,s=e.multiArray[1][0].title),t.next=4,e.$http.get("".concat(n.provinceList),{pid:e.addressData.city_id}).then((function(t){e.multiArray[2]=t.data,e.addressData.area_id?t.data.forEach((function(t,r){parseInt(t.id,10)==parseInt(e.addressData.area_id,10)&&(d=r,e.addressData.area_id=t.id,u=t.title)})):(e.addressData.area_id=e.multiArray[2][0].id,u=e.multiArray[2][0].title),e.multiIndex=[r,a,d],e.multiStr="".concat(o,", ").concat(s,", ").concat(u),e.$emit("getRegions",e.addressData)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 8:case"end":return t.stop()}}),t)})))()},bindMultiPickerColumnChange:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function r(){var a,d,o,s,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.multiIndex[e.detail.column]=e.detail.value,a=0,d=0,o=0,s=null,u=null,l=null,r.t0=e.detail.column,r.next=0===r.t0?10:1===r.t0?16:2===r.t0?26:28;break;case 10:if(t.multiIndex[0]!==t.multiIndex[0]){r.next=15;break}return t.addressData.province_id=t.multiArray[0][e.detail.value].id,s=t.multiArray[0][e.detail.value].title,r.next=15,t.$http.get("".concat(n.provinceList),{pid:t.multiArray[0][e.detail.value].id}).then(function(){var r=(0,i.default)(regeneratorRuntime.mark((function r(i){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.multiArray[1]=i.data,t.addressData.city_id=t.multiArray[1][0].id,u=t.multiArray[1][0].title,a=e.detail.value,r.next=6,t.$http.get("".concat(n.provinceList),{pid:t.multiArray[1][e.detail.column].id}).then((function(e){t.multiArray[2]=e.data,t.addressData.area_id=t.multiArray[2][0].id,l=t.multiArray[2][0].title,t.multiIndex=[a,0,0],t.multiStr="".concat(s,", ").concat(u,", ").concat(l)}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 15:return r.abrupt("break",28);case 16:if(t.multiIndex[0]!==t.multiIndex[0]){r.next=25;break}if(t.multiIndex[1]!==t.multiIndex[1]){r.next=25;break}return t.addressData.province_id=t.multiArray[0][t.multiIndex[0]].id,s=t.multiArray[0][t.multiIndex[0]].title,t.addressData.city_id=t.multiArray[1][e.detail.value].id,u=t.multiArray[1][e.detail.value].title,d=e.detail.value,r.next=25,t.$http.get("".concat(n.provinceList),{pid:t.multiArray[1][e.detail.value].id}).then((function(e){t.multiArray[2]=e.data,t.addressData.area_id=t.multiArray[2][0].id,l=t.multiArray[2][0].title,t.multiIndex=[t.multiIndex[0],d,0],t.multiStr="".concat(s,", ").concat(u,", ").concat(l)}));case 25:return r.abrupt("break",28);case 26:return t.multiIndex[0]===t.multiIndex[0]&&t.multiIndex[1]===t.multiIndex[1]&&t.multiIndex[2]===t.multiIndex[2]&&(t.addressData.province_id=t.multiArray[0][t.multiIndex[0]].id,s=t.multiArray[0][t.multiIndex[0]].title,t.addressData.city_id=t.multiArray[1][t.multiIndex[1]].id,u=t.multiArray[1][t.multiIndex[1]].title,t.addressData.area_id=t.multiArray[2][e.detail.value].id,l=t.multiArray[2][e.detail.value].title,o=e.detail.value,t.multiIndex=[t.multiIndex[0],t.multiIndex[1],o],t.multiStr="".concat(s,", ").concat(u,", ").concat(l)),r.abrupt("break",28);case 28:t.$emit("getRegions",t.addressData);case 29:case"end":return r.stop()}}),r)})))()}}};t.default=d},"10e4":function(e,t,r){"use strict";r.r(t);var a=r("6850"),i=r("a959");for(var n in i)"default"!==n&&function(e){r.d(t,e,(function(){return i[e]}))}(n);r("53a6");var d,o=r("f0c5"),s=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"4dff7540",null,!1,a["a"],d);t["default"]=s.exports},"2c3e":function(e,t,r){"use strict";var a=r("ee27");r("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var i=a(r("c964")),n=r("0327"),d=a(r("bf9c")),o={components:{rfPickRegions:d.default},data:function(){return{addressData:{realname:"",mobile:"",address_details:"",address_name:"请选择地址",address:"",is_default:!1,province_id:"",city_id:"",area_id:""},btnLoading:!1,multiArray:[[],[],[]],multiIndex:[0,0,0],loading:!0}},onLoad:function(e){this.initData(e)},methods:{handleGetRegions:function(e){this.addressData.province_id=e.province_id,this.addressData.city_id=e.city_id,this.addressData.area_id=e.area_id},initData:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a="新增收货地址","edit"!==e.type){r.next=7;break}return a="编辑收货地址",r.next=5,t.getAddressDetail(e.id);case 5:r.next=8;break;case 7:setTimeout((function(){t.loading=!1}),1e3);case 8:t.manageType=e.type,uni.setNavigationBarTitle({title:a});case 10:case"end":return r.stop()}}),r)})))()},getAddressDetail:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("".concat(n.addressDetail),{id:e}).then(function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.data;case 2:t.addressData=e.sent,t.loading=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.loading=!1}));case 2:case"end":return r.stop()}}),r)})))()},handleRealNameChange:function(e){this.addressData.realname=e.detail.value},bindAddressDetailsChange:function(e){this.addressData.address_details=e.detail.value},handleMobileChange:function(e){this.addressData.mobile=e.detail.value},switchChange:function(e){this.addressData.is_default=e.detail.value},confirm:function(){var e=this.addressData;e.realname?/^04[0-9]{8}$/.test(e.mobile)?(this.btnLoading=!0,"edit"===this.manageType?this.handleAddressUpdate(e):this.handleAddressCreate(e)):this.$mHelper.toast("请输入正确的10位数手机号码"):this.$mHelper.toast("请填写收货人姓名")},handleAddressUpdate:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.put("".concat(n.addressUpdate,"?id=").concat(e.id),{realname:e.realname,mobile:e.mobile,address_details:e.address_details,is_default:e.is_default?1:0,province_id:e.province_id,city_id:e.city_id,area_id:e.area_id}).then((function(){t.btnLoading=!1,t.$mHelper.toast("收货地址修改成功！"),t.$mRouter.back()})).catch((function(){t.btnLoading=!1}));case 2:case"end":return r.stop()}}),r)})))()},handleAddressCreate:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.post("".concat(n.addressCreate),{realname:e.realname,mobile:e.mobile,address_details:e.address_details,is_default:e.is_default?1:0,province_id:e.province_id,city_id:e.city_id,area_id:e.area_id}).then((function(){t.btnLoading=!1,t.$mHelper.toast("收货地址修改成功！"),t.$mRouter.back()})).catch((function(){t.btnLoading=!1}));case 2:case"end":return r.stop()}}),r)})))()}}};t.default=o},"53a6":function(e,t,r){"use strict";var a=r("922c"),i=r.n(a);i.a},6850:function(e,t,r){"use strict";var a,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"address-manage rf-row-wrapper"},[r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("联系人")]),r("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleRealNameChange.apply(void 0,arguments)}},model:{value:e.addressData.realname,callback:function(t){e.$set(e.addressData,"realname",t)},expression:"addressData.realname"}})],1),r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("手机号")]),r("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.handleMobileChange.apply(void 0,arguments)}},model:{value:e.addressData.mobile,callback:function(t){e.$set(e.addressData,"mobile",t)},expression:"addressData.mobile"}})],1),r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("选择地址")]),r("rf-pick-regions",{attrs:{addressData:e.addressData},on:{getRegions:function(t){arguments[0]=t=e.$handleEvent(t),e.handleGetRegions.apply(void 0,arguments)}}})],1),r("v-uni-view",{staticClass:"row b-b"},[r("v-uni-text",{staticClass:"tit"},[e._v("详细地址")]),r("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入详细地址","placeholder-class":"placeholder"},on:{blur:function(t){arguments[0]=t=e.$handleEvent(t),e.bindAddressDetailsChange.apply(void 0,arguments)}},model:{value:e.addressData.address_details,callback:function(t){e.$set(e.addressData,"address_details",t)},expression:"addressData.address_details"}})],1),r("v-uni-view",{staticClass:"row default-row"},[r("v-uni-text",{staticClass:"tit"},[e._v("设为默认")]),r("v-uni-switch",{attrs:{checked:!!e.addressData.is_default,color:e.themeColor.color},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}}})],1),r("v-uni-button",{staticClass:"add-btn",class:"bg-"+e.themeColor.name,attrs:{disabled:e.btnLoading,loading:e.btnLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("提交")]),r("rfLoading",{attrs:{isFullScreen:!0,active:e.loading}})],1)},n=[];r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a}))},"7c6f":function(e,t,r){"use strict";var a,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-picker",{attrs:{mode:"multiSelector",value:e.multiIndex,"range-key":"title",range:e.multiArray},on:{columnchange:function(t){arguments[0]=t=e.$handleEvent(t),e.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[e._v(e._s(e.multiStr))])},n=[];r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a}))},"922c":function(e,t,r){var a=r("f941");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=r("4f06").default;i("464c5a34",a,!0,{sourceMap:!1,shadowMode:!1})},"9f32":function(e,t,r){"use strict";r.r(t);var a=r("0d18"),i=r.n(a);for(var n in a)"default"!==n&&function(e){r.d(t,e,(function(){return a[e]}))}(n);t["default"]=i.a},a959:function(e,t,r){"use strict";r.r(t);var a=r("2c3e"),i=r.n(a);for(var n in a)"default"!==n&&function(e){r.d(t,e,(function(){return a[e]}))}(n);t["default"]=i.a},bf9c:function(e,t,r){"use strict";r.r(t);var a=r("7c6f"),i=r("9f32");for(var n in i)"default"!==n&&function(e){r.d(t,e,(function(){return i[e]}))}(n);var d,o=r("f0c5"),s=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],d);t["default"]=s.exports},f941:function(e,t,r){var a=r("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-4dff7540]{background:#f8f8f8}.address-manage[data-v-4dff7540]{padding-top:%?16?%}body.?%PAGE?%[data-v-4dff7540]{background:#f8f8f8}',""]),e.exports=t}}]);